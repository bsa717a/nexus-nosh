(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(6731)}])},9767:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(5893);function s(e){let{children:t,className:r="",variant:s="solid",size:a="md",...o}=e;return(0,n.jsx)("button",{className:"".concat("rounded-xl font-medium transition border"," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[a]," ").concat("outline"===s?"bg-white border-gray-300 hover:bg-gray-50":"bg-orange-500 text-white border-orange-600 hover:bg-orange-600"," ").concat(r),...o,children:t})}},9553:function(e,t,r){"use strict";r.d(t,{Z:function(){return s},a:function(){return a}});var n=r(5893);function s(e){let{children:t,className:r=""}=e;return(0,n.jsx)("div",{className:"bg-white border shadow-sm rounded-2xl ".concat(r),children:t})}function a(e){let{children:t,className:r=""}=e;return(0,n.jsx)("div",{className:"p-4 ".concat(r),children:t})}},3460:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(1462).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},2608:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(1462).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},6731:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(5893),s=r(9008),a=r.n(s),o=r(7294),l=r(6442),i=r(9767),c=r(9553),d=r(2608),u=r(718),m=r(3460),x=r(6314),g=r(1163);function h(){let{user:e,loading:t}=(0,l.a)(),r=(0,g.useRouter)();(0,o.useEffect)(()=>{!t&&e&&r.push("/")},[e,t,r]);let[s,a]=(0,o.useState)(!0),[h,f]=(0,o.useState)(""),[p,b]=(0,o.useState)(""),[y,j]=(0,o.useState)(""),[N,v]=(0,o.useState)(""),[w,k]=(0,o.useState)(!1),[S,E]=(0,o.useState)(!1),[_,C]=(0,o.useState)(!1),{signIn:Z,signUp:P,resetPassword:q}=(0,l.a)();async function z(e){e.preventDefault(),v(""),k(!0);try{s?await Z(h,p):await P(h,p,y),r.push("/")}catch(e){v(e.message||"An error occurred"),console.error("Auth error:",e)}finally{k(!1)}}async function L(e){e.preventDefault(),v(""),k(!0);try{await q(h),C(!0)}catch(e){v(e.message||"An error occurred"),console.error("Password reset error:",e)}finally{k(!1)}}return t?(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?null:(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white flex items-center justify-center p-6",children:(0,n.jsx)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-md",children:(0,n.jsx)(c.Z,{className:"shadow-xl rounded-2xl p-8",children:(0,n.jsxs)(c.a,{children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Nexus Nosh"}),(0,n.jsx)("p",{className:"text-gray-600",children:S?"Reset your password":s?"Sign in to your account":"Create a new account"})]}),_?(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm",children:"Password reset email sent! Please check your inbox and follow the instructions to reset your password."}),(0,n.jsx)(i.z,{onClick:()=>{E(!1),C(!1),f(""),v("")},className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3",children:"Back to Sign In"})]}):S?(0,n.jsxs)("form",{onSubmit:L,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,n.jsx)("input",{type:"email",value:h,onChange:e=>f(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),N&&(0,n.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:N}),(0,n.jsx)(i.z,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3",disabled:w,children:w?"Sending...":"Send Reset Email"}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("button",{onClick:()=>{E(!1),v("")},className:"text-orange-600 hover:text-orange-700 text-sm font-medium",children:"Back to Sign In"})})]}):(0,n.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[!s&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,n.jsx)("input",{type:"text",value:y,onChange:e=>j(e.target.value),required:!s,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your name"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,n.jsx)("input",{type:"email",value:h,onChange:e=>f(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),s&&(0,n.jsx)("button",{type:"button",onClick:()=>{E(!0),v("")},className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"Forgot Password?"})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,n.jsx)("input",{type:"password",value:p,onChange:e=>b(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your password",minLength:6})]})]}),N&&(0,n.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:N}),(0,n.jsx)(i.z,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3",disabled:w,children:w?"Loading...":s?"Sign In":"Sign Up"})]}),!S&&!_&&(0,n.jsx)("div",{className:"mt-6 text-center",children:(0,n.jsx)("button",{onClick:()=>{a(!s),v("")},className:"text-orange-600 hover:text-orange-700 text-sm font-medium",children:s?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})})})}function f(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("title",{children:"Login - Nexus Nosh"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("meta",{name:"description",content:"Sign in to Nexus Nosh"})]}),(0,n.jsx)(h,{})]})}},9008:function(e,t,r){e.exports=r(7828)}},function(e){e.O(0,[224,888,774,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);