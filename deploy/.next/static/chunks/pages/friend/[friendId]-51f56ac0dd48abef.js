(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[115],{8257:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/friend/[friendId]",function(){return a(2629)}])},9553:function(e,s,a){"use strict";a.d(s,{Z:function(){return i},a:function(){return n}});var t=a(5893);function i(e){let{children:s,className:a=""}=e;return(0,t.jsx)("div",{className:"bg-white border shadow-sm rounded-2xl ".concat(a),children:s})}function n(e){let{children:s,className:a=""}=e;return(0,t.jsx)("div",{className:"p-4 ".concat(a),children:s})}},2629:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return Z}});var t=a(5893),i=a(7294),n=a(1163),l=a(9008),r=a.n(l),d=a(5993),c=a(6510),o=a(6442),x=a(3949),m=a(9553),h=a(5197),u=a(5875),p=a(718),g=a(1692),j=a(2691),N=a(5545),f=a(4098),y=a(1568),w=a(5677),b=a(6314),v=a(1526);function Z(){let e=(0,n.useRouter)(),{friendId:s}=e.query,{user:a}=(0,o.a)(),[l,Z]=(0,i.useState)(null),[k,R]=(0,i.useState)([]),[_,E]=(0,i.useState)({}),[C,T]=(0,i.useState)(!0),[S,B]=(0,i.useState)(null),[P,U]=(0,i.useState)(null);(0,i.useEffect)(()=>{s&&a&&F(s)},[s,a]);let F=async e=>{T(!0),B(null);try{let[s,a,t]=await Promise.all([(0,x.K0)(e),(0,x.kV)(e),(0,x.C3)(e)]);Z(s),R(a),E(t)}catch(e){console.error("Error loading friend data:",e),B(e.message||"Failed to load friend profile")}finally{T(!1)}},G=e=>_[e],q=e=>{let s=encodeURIComponent(e);window.open("https://www.google.com/maps/search/?api=1&query=".concat(s),"_blank","noopener,noreferrer")};return C?(0,t.jsx)(d.Z,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-indigo-50 to-white pb-24",children:[(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)(h.Z,{className:"w-8 h-8 text-indigo-500 animate-spin"})})}),(0,t.jsx)(c.Z,{})]})}):S||!l?(0,t.jsx)(d.Z,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-indigo-50 to-white pb-24",children:[(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[(0,t.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[(0,t.jsx)(u.Z,{className:"w-5 h-5"}),"Back"]}),(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)(p.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:S||"Friend not found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"This profile may not be available or you may not have permission to view it."})]})]}),(0,t.jsx)(c.Z,{})]})}):(0,t.jsx)(d.Z,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-indigo-50 to-white pb-24",children:[(0,t.jsx)(r(),{children:(0,t.jsxs)("title",{children:[l.displayName,"'s Restaurants | Nexus Nosh"]})}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[(0,t.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[(0,t.jsx)(u.Z,{className:"w-5 h-5"}),"Back to Friends"]}),(0,t.jsx)(b.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 mb-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center overflow-hidden",children:l.photoURL?(0,t.jsx)("img",{src:l.photoURL,alt:l.displayName,className:"w-20 h-20 rounded-full object-cover"}):(0,t.jsx)("span",{className:"text-indigo-600 font-bold text-2xl",children:l.displayName[0].toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:l.displayName}),(0,t.jsx)("p",{className:"text-gray-500",children:l.email}),(0,t.jsxs)("p",{className:"text-sm text-indigo-600 mt-1",children:[k.length," ",1===k.length?"restaurant":"restaurants"," saved"]})]})]})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-indigo-500 rounded-xl",children:(0,t.jsx)(g.Z,{className:"w-5 h-5 text-white fill-white"})}),(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[l.displayName,"'s Restaurants"]})]}),0===k.length?(0,t.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl shadow-sm",children:[(0,t.jsx)(g.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,t.jsxs)("p",{className:"text-gray-500",children:[l.displayName," hasn't saved any restaurants yet."]})]}):(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:k.map((e,s)=>{let a=G(e.id),i=P===e.id,n=(null==a?void 0:a.personalRating)||(null==a?void 0:a.notes)||(null==a?void 0:a.hasBeen)||(null==a?void 0:a.wantToGo);return(0,t.jsx)(b.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*s},children:(0,t.jsx)(m.Z,{className:"shadow-sm rounded-xl overflow-hidden transition-all ".concat(i?"shadow-lg ring-2 ring-indigo-200":"hover:shadow-md"),children:(0,t.jsxs)(m.a,{className:"p-0",children:[(0,t.jsxs)("button",{onClick:()=>U(i?null:e.id),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 flex-1",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-2",children:[(null==a?void 0:a.personalRating)&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-yellow-500",children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 fill-yellow-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:a.personalRating})]}),(null==a?void 0:a.notes)&&(0,t.jsx)(N.Z,{className:"w-4 h-4 text-indigo-400"}),n&&(i?(0,t.jsx)(f.Z,{className:"w-4 h-4 text-gray-400"}):(0,t.jsx)(y.Z,{className:"w-4 h-4 text-gray-400"}))]})]}),(0,t.jsxs)("div",{className:"flex items-center text-gray-500 text-sm mb-2",children:[(0,t.jsx)(w.Z,{className:"w-4 h-4 mr-1 flex-shrink-0"}),(0,t.jsx)("span",{onClick:s=>{s.stopPropagation(),q(e.address)},className:"truncate text-indigo-600 hover:underline cursor-pointer",children:e.address})]}),e.cuisineType&&e.cuisineType.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.cuisineType.slice(0,3).map(e=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-600 text-xs rounded-full",children:e},e))})]}),(0,t.jsx)(v.M,{children:i&&(0,t.jsx)(b.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:(0,t.jsxs)("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100 bg-indigo-50/50",children:[(null==a?void 0:a.personalRating)&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:[l.displayName,"'s Rating"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(e=>(0,t.jsx)(j.Z,{className:"w-5 h-5 ".concat(e<=a.personalRating?"text-yellow-500 fill-yellow-500":"text-gray-300")},e)),(0,t.jsxs)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:[a.personalRating," / 5"]})]})]}),((null==a?void 0:a.hasBeen)||(null==a?void 0:a.wantToGo))&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(null==a?void 0:a.hasBeen)&&(0,t.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm rounded-full font-medium",children:"✓ Has been there"}),(null==a?void 0:a.wantToGo)&&(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-full font-medium",children:"★ Wants to go"})]}),(null==a?void 0:a.notes)&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:[l.displayName,"'s Notes"]}),(0,t.jsx)("div",{className:"p-3 bg-white rounded-lg border border-indigo-100",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700 italic",children:["“",a.notes,"”"]})})]})]})})})]})})},e.id)})})]})]}),(0,t.jsx)(c.Z,{})]})})}}},function(e){e.O(0,[224,20,843,888,774,179],function(){return e(e.s=8257)}),_N_E=e.O()}]);